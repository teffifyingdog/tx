(this.webpackJsonpxtools=this.webpackJsonpxtools||[]).push([[0],{156:function(e,t,a){e.exports=a(302)},170:function(e){e.exports=JSON.parse('{"envId":"{{envId}}","functionRoot":"functions","functions":[{"name":"custom-login","config":{"timeout":5,"envVariables":{},"runtime":"Nodejs10.15","memorySize":128}},{"name":"base64","config":{"timeout":5,"envVariables":{},"runtime":"Nodejs10.15","memorySize":128}}],"framework":{"plugins":{"react":{"use":"@cloudbase/framework-plugin-website","inputs":{"buildCommand":"npm run build","outputPath":"build"}},"function":{"use":"@cloudbase/framework-plugin-function","inputs":{"functionRootPath":"functions"}},"db":{"use":"@cloudbase/framework-plugin-database","inputs":{"collections":[{"collectionName":"demo_web"}]}}}}}')},292:function(e,t,a){},300:function(e,t,a){},301:function(e,t,a){},302:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(6),o=a.n(c),l=(a(161),a(154)),s=a(25),i=a.n(s),m=a(45),u=a(28),d=a(106),p=a(29),f=(a(113),a(34)),h=(a(114),a(19)),v=(a(165),a(112)),E=(a(90),a(41)),b=(a(91),a(33)),g=(a(115),a(83)),x={envId:a(170).envId,storageBaseUrl:""},w=function(){var e=window.tcb.init({env:x.envId});return e.auth({persistence:"local"}),e},y=g.a.Search,N="https://".concat(x.envId,".service.tcloudbase.com/login"),j=(a(250),a(107)),k=function(e){return r.a.createElement("div",{className:"demo"},r.a.createElement("div",{className:"margin-bottom-sm text-xs"},e.title),r.a.createElement("div",{className:"demo-content"},e.children))},O=g.a.Search,S=function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),a=t[0],c=t[1],o=w();return r.a.createElement(k,{title:"Base64 \u7f16\u7801"},r.a.createElement("div",null,r.a.createElement(O,{placeholder:"\u8f93\u5165\u8981\u7f16\u7801\u7684\u5b57\u7b26\u4e32",enterButton:"\u8ba1\u7b97",size:"large",onSearch:function(e){e?o.callFunction({name:"base64",data:{str:e}}).then((function(e){c(e.result.data)})).catch((function(e){b.a.error(e.message)})):b.a.error("Base64 \u5b57\u7b26\u4e32\u4e0d\u80fd\u4e3a\u7a7a\uff01")}}),r.a.createElement("div",{className:"margin-top-sm"},"Output\uff1a",a)),r.a.createElement(j.a,null))},I=(a(303),a(110)),B=(a(279),a(155)),C=[{path:"/",component:function(){var e=w(),t=Object(n.useState)(!1),a=Object(u.a)(t,2),c=a[0],o=a[1],l=!!e.auth().getLoginState();return r.a.createElement("div",null,r.a.createElement("div",{className:"text-center"},r.a.createElement("img",{style:{height:"200px",width:"200px"},src:"".concat(x.storageBaseUrl,"/icon.png"),alt:"Logo \u56fe\u7247"}),r.a.createElement("div",{className:"margin-bottom-sm"},r.a.createElement(E.a,{className:"text-df",type:"link",href:"https://cloud.tencent.com/product/tcb",target:"_blank"},"\u4e91\u5f00\u53d1 Web \u7aef\u793a\u4f8b"))),r.a.createElement(f.a,null,r.a.createElement(h.a,{span:8,offset:8},!l&&r.a.createElement(v.a,{message:"\u4f60\u8fd8\u6ca1\u6709\u767b\u5f55\uff0c\u4f7f\u7528\u524d\u8bf7\u5148\u767b\u5f55\uff01",type:"warning",showIcon:!0,className:"margin-bottom"}),l&&r.a.createElement(v.a,{message:"\u4f60\u5df2\u767b\u5f55\uff0c\u65e0\u9700\u518d\u6b21\u767b\u5f55\uff01",type:"info",showIcon:!0,className:"margin-bottom"}))),r.a.createElement(f.a,null,r.a.createElement(h.a,{span:12,offset:6},r.a.createElement(y,{size:"middle",placeholder:"\u8f93\u5165\u4f60\u7684\u7528\u6237\u540d\uff0c\u7528\u6237\u540d\u957f\u5ea6\u5fc5\u987b\u5927\u4e8e 4 \u4f4d\uff0c\u7531\u5b57\u6bcd\u548c\u6570\u5b57\u7ec4\u6210",enterButton:"\u81ea\u5b9a\u4e49\u767b\u5f55",loading:c,onSearch:function(t){t?(o(!0),fetch("".concat(N,"?userId=").concat(t)).then(function(){var t=Object(m.a)(i.a.mark((function t(a){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(400!==a.status){t.next=2;break}throw new Error("".concat(a.status,": ").concat(a.statusText," \u83b7\u53d6 Ticket \u5931\u8d25\uff0c\u7528\u6237 Id \u4e0d\u7b26\u5408\u89c4\u5219"));case 2:if(429!==a.status){t.next=4;break}throw new Error("".concat(a.status,": ").concat(a.statusText," API rate limit exceeded"));case 4:return t.next=6,a.json();case 6:n=t.sent,e.auth().signInWithTicket(n.ticket).then((function(e){var t;(null===e||void 0===e||null===(t=e.credential)||void 0===t?void 0:t.refreshToken)&&(b.a.info("\u767b\u5f55\u6210\u529f\uff01"),window.location.reload())}));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){b.a.error(e.message)})).finally((function(){o(!1)}))):b.a.error("\u7528\u6237\u540d\u4e0d\u80fd\u4e3a\u7a7a\uff01")}}))))}},{title:"\u4e91\u51fd\u6570",path:"/function",component:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"text-center text-sm text-bold"},"\u4e91\u51fd\u6570"),r.a.createElement(j.a,null),r.a.createElement(S,null))},menu:!0},{title:"\u6570\u636e\u5e93",path:"/db",component:function(){var e=w().database().collection("demo_web"),t=Object(n.useState)(""),a=Object(u.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)(0),s=Object(u.a)(l,2),d=s[0],p=s[1],f=Object(n.useState)([]),h=Object(u.a)(f,2),v=h[0],g=h[1],x=function(){var t=Object(m.a)(i.a.mark((function t(){var a,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://v1.jinrishici.com/all.json");case 2:return a=t.sent,t.next=5,a.json();case 5:return n=t.sent,o(JSON.stringify(n)),t.next=9,e.add(n);case 9:b.a.success("\u6dfb\u52a0\u6570\u636e\u6210\u529f\uff01");case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),y=function(){var t=Object(m.a)(i.a.mark((function t(){var a,n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get();case 2:n=t.sent,r=(null===(a=n.data)||void 0===a?void 0:a.length)||0,p(r),g(n.data);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("div",{className:"text-center text-sm text-bold"},"\u6570\u636e\u5e93"),r.a.createElement(k,{title:"\u6570\u636e\u5e93\u8bfb"},r.a.createElement("div",{className:"json flex flex-direction"},r.a.createElement("div",{className:"operations padding-bottom"},r.a.createElement(E.a,{type:"primary",onClick:x},"\u65b0\u589e\u6570\u636e"),r.a.createElement("div",{className:"padding-sm"},c)))),r.a.createElement(k,{title:"\u6570\u636e\u5e93\u8bfb"},r.a.createElement("div",{className:"json flex flex-direction"},r.a.createElement("div",{className:"operations padding-bottom-sm"},r.a.createElement(E.a,{type:"primary",onClick:y},"\u83b7\u53d6\u6570\u636e")),r.a.createElement(I.a,{style:{height:"300px",overflowY:"scroll"},header:r.a.createElement("div",{className:"padding-sm"},"\u603b\u8ba1\u6570\u91cf\uff1a",d),bordered:!0,dataSource:v,renderItem:function(e){return r.a.createElement(I.a.Item,null,r.a.createElement("div",{style:{width:"100%"}},r.a.createElement("h1",{className:"text-center"},e.origin),r.a.createElement("p",{className:"text-center"},e.content),r.a.createElement("p",{className:"text-right"},e.author)))}}))))},menu:!0},{path:"**",component:function(){return r.a.createElement(B.a,{status:"404",title:"404",subTitle:"Sorry, the page you visited does not exist.",extra:r.a.createElement("span",null,"Back Home")})}}];function T(){return e=C,r.a.createElement(p.c,null,e.map((function(e,t){return r.a.createElement(p.a,{key:t,path:e.path,component:e.component,exact:e.exact||!0,strict:e.strict||!1})})));var e}a(304);var z=a(153),A=(a(305),a(111)),J=(a(288),a(149)),P=(a(290),a(49)),W=(a(292),P.a.Sider),q=P.a.Header,F=P.a.Content,H=P.a.Footer;function U(e){var t=Object(p.f)(),a=e.menus,n=(new Date).getFullYear();return r.a.createElement("div",{className:"App"},r.a.createElement(P.a,{style:{height:"100%"}},r.a.createElement(q,{className:"header flex"},r.a.createElement("div",{className:"logo"},r.a.createElement(J.a,{style:{height:"40px",width:"40px"},src:"".concat(x.storageBaseUrl,"/icon.png")})),r.a.createElement("div",{className:"home"},r.a.createElement("a",{href:"/"},"Home"))),r.a.createElement(F,{style:{padding:"0 50px",display:"flex",flexDirection:"column"}},r.a.createElement(P.a,{style:{padding:"24px 0",flex:"1 1 auto",background:"#fff"}},r.a.createElement(W,{width:200,style:{background:"#fff"}},r.a.createElement(A.a,{mode:"inline",onSelect:function(e){var a=e.key;t.push(a)}},a.map((function(e){return r.a.createElement(A.a.Item,{key:e.path},r.a.createElement("span",{className:"nav-text"},e.title))})))),r.a.createElement(F,{style:{padding:"0 24px"}},r.a.createElement(z.a,{className:"card",bordered:!1},r.a.createElement("div",{className:"card-content",style:{overflow:"auto"}},e.children))))),r.a.createElement(H,{className:"footer",style:{textAlign:"center"}},"Copyright \xa9 \u817e\u8baf\u4e91 - \u4e91\u5f00\u53d1 2018 - ",n)))}a(299),a(300);var _=C.filter((function(e){return e.menu}));function D(){var e=Object(n.useState)(!0),t=Object(u.a)(e,2),a=t[0],c=t[1];return function(){var e=Object(m.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=document.createElement("script")).type="text/javascript",t.src="https://imgcache.qq.com/qcloud/tcbjs/1.5.0/tcb.js",document.head.appendChild(t),e.abrupt("return",new Promise((function(e){t.onload=function(){e()}})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()().then((function(){c(!1)})),r.a.createElement("div",{className:"App"},r.a.createElement(U,{menus:_},a?r.a.createElement(l.a,{active:!0}):T()))}var L=function(){return r.a.createElement(d.a,null,r.a.createElement(D,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(301);o.a.render(r.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[156,1,2]]]);
//# sourceMappingURL=main.0f95c101.chunk.js.map